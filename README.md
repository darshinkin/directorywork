# directorywork

Для сборки и запуска приложения используется команда:
mvn package && java -jar target/directorywork-1.0-SNAPSHOT.jar

Тесты запускаются с профилем test. Профиль активируется автоматически.

В настроечныъ файлах data.sql и schema.sql задаётся телько таблица Settings c настройками.
Остальные таблицы в БД поднимаются после запуска приложения, поскольку используется Spring Data

БД используется inmemory H2.
Используется реализация JTA Atomikos (https://www.atomikos.com/Main/WebHome)

Описание функционала:
Написать приложение,  которое периодически сканирует определённый каталог source  на наличие xml файлов. Настройка каталога задаётся в базе и может периодически меняться.
При обнаружении xml файлов произвести их копирование (многопоточно) в другой каталог – dest/temp.
В отдельном потоке сканировать каталог dest/temp, при получении файла записать содержимое файла в БД. Так же в БД должна храниться история обработки каждого файла и история проверки каталога(логировать  даже если в каталоге ни чего нет). 
Необходимо самостоятельно спроектировать структуру БД.
После сохранения информации в БД, отправить сообщение в active mq. В теле сообщения передать содержимое файла, дополнительно установить свойство сообщения Name, в котором указать имя файла.
После обработки, файл переместить в каталог - dest/archive
Требования к технологиям:
    • java 1.7 и выше
    • Для внедрения зависимостей (DI) использовать Spring Framework
    • jms – Apache ActiveMQ
    • БД - любая
 
